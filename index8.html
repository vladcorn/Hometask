<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>OOP Prototype</title>
</head>
<body>





<script>

   /* var head = {
        glasses: 1
    };

    var table = {
        __proto__:head,
        pen: 3
    };

    var bed = {
        __proto__:table,
        sheet: 1,
        pillow: 2
    };

    var pockets = {
        __proto__:bed,
        money: 2000
    };

    alert(pockets.glasses);
    alert(table.money);

   function Rabbit(name) {
       this.name = name;
   }
   Rabbit.prototype.sayHi = function() {
       alert( this.name );
   };

   var rabbit = new Rabbit("Rabbit");

   rabbit.sayHi();
   Rabbit.prototype.sayHi();
   Object.getPrototypeOf(rabbit).sayHi();
   rabbit.__proto__.sayHi();*/

/*
   function CoffeeMachine(power) {
        this._waterAmount = 0;
        this._power = power;
        this._WATER_HEAT_CAPACITY = 4200;

       CoffeeMachine.prototype.run = function () {
           setTimeout(function() {
               alert( 'Кофе готов!' );
           }, this._waterAmount * this._WATER_HEAT_CAPACITY * 80 / this._power);
       }

       CoffeeMachine.prototype.setWaterAmount = function (amount) {
           waterAmount = amount;
       }




   }



   var coffeeMachine = new CoffeeMachine(10000);
   coffeeMachine.setWaterAmount(50);
   coffeeMachine.run();
   function Hamster() {
       this.food = [];
   }

   //Hamster.prototype.food = []; // пустой "живот"

   Hamster.prototype.found = function(something) {
       this.food.push(something);
   };

   // Создаём двух хомяков и кормим первого
   var speedy = new Hamster();
   var lazy = new Hamster();

   speedy.found("яблоко");
   speedy.found("орех");

   alert( speedy.food.length ); // 2
   alert( lazy.food.length ); // 2 (!??)*/


//создать класс Worker в фун и прототип
    //name,rate,hoursWoreked,overTimeRate=2*rate
   //overTime > 160 hours
    //countarySalary = function(hourseWorked)
   //get name,set name,get rate,set rate

   /* function Worker(name,rate,hours) {
        this.name = name;
        this.rate = rate;
        this.hours = hours;
        this.overTime = this.hours - 160;
    }
    Worker.prototype.countSalary = function() {
        this.overTimeSalary = this.overTime * 2 *this.rate;
        this.salary = this.overTimeSalary + this.rate * this.hours

    }
var worker = new Worker("Vasya",100,150);
    worker.countSalary();
console.log(worker.salary);*/



   function Worker(name = 'Worker',rate = 10){
      var self = this;
      var workerName = name;
      var workerRate = rate;
      var workerHours,workerOverTime;
       self.setName = function (name) {
           if (typeof (name) == 'string') {
               workerName = name;
           }
       }
       self.setRate = function (rate) {
          if (typeof (rate)=='number'){
              workerRate = +rate;}
       }

       self.setHours = function (hours) {
           if (typeof (hours)=='number')
           workerHours = +hours;
       }

       self.getName = function () {
           return workerName;
       }

       self.getOverTime = function(){
           overTime(workerHours);
           return workerOverTime;

       }

       self.getRate = function () {
           return workerRate;
       }
       self.getHours = function(){
           return workerHours;
       }

       function overTime(workerHours){
           workerOverTime = workerHours - 160;
       }

       self.getCoutSalary = function () {
           overTime(workerHours);

           if (workerOverTime > 0){

               return (workerOverTime*2*workerRate) + 160 * workerRate;
           }else {
               return workerRate * workerHours;
           }

       }

   }

   var worker1 = new Worker();
    worker1.setName('Vasya');
    worker1.setHours(200);
    worker1.setRate(30);
    console.log(worker1.getOverTime());
    console.log(worker1.getCoutSalary());



</script>


</body>
</html>